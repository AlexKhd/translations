http://idlewords.com/talks/website_obesity.htm

Кризис ожирения в Сети

    Кризис
    Ложные методы решения
    Толстая реклама
    Толстое содержимое
    Лживый минимализм
    Неуклюжий интерфейс
    Тяжелые облака
    Подводя итоги

Я начну с того, что хорошие сайты бывают разных размеров, и страницы у них "весят" по-разному. Я люблю большие сайты с кучей картинок. Мне нравится видео с высоким разрешением. Меня привлекает широкое использование Javascript в хорошо спроектированных веб-приложениях.

Но этот разговор о других сайтах. Мы поговорим о сайтах с преимущественно текстовым наполнением, которые, непостижимым образом, становятся тяжелее и тяжелее с каждым годом.

Я буду использовать конкретные примеры, чтобы разговор не стал слишком абстрактным. И я здесь не для того, чтобы заклеймить кого-либо позором, кроме, пожалуй, некоторых компаний, которые намеренно разрушают Сеть.



Кризис



Что я подразумеваю под этим словом?

Вот, к примеру, статья от 2012 года на GigaOm под названием "Эпидемия пухнущих страниц"(https://gigaom.com/2012/05/23/the-growing-epidemic-of-page-bloat/). Она предупреждает, что средний вес одной страницы превышает один мегабайт.

Сама статья при этом весит 1,8 Мб.

А вот подобная статья с этого же сайта, только опубликованная двумя годами позже, под названием "Сверхтяжелая Сеть"(https://gigaom.com/2014/12/29/the-overweight-web-average-web-page-size-is-up-15-in-2014/). Здесь предупреждается о приближении средней страницы к отметке в 2 Мб.

Эта статья весит уже 3 Мб.

Если тенденция сохранится, то существует реальный шанс, что статьи, предупреждающие о слишком большом весе страниц, к 2020 году будут весить более 5 мегабайт.

Проблема выбора какого-то определенного размера страницы в качестве эталона в том, что она побуждает нас занизить критическую планку. Сегодняшний сверхжирный сайт завтра превращается в совершенно обычный, а со следующего года он пример стройности в сайтостроении.

Но, переведем дискуссию в не так зависящее от времени русло.

Повторяя свое утверждении в Твиттере(https://twitter.com/Pinboard/status/653714626857730048), я настаиваю, что текстовые сайты не должны превышать размеры основных произведений классиков русской литературы.

Как мне думается, это довольно либеральный критерий. Я бы мог выбрать французскую литературу, зачастую состоящую из худосочных книжек, но я намеренно выбрал русскую, как вполне заслуженно имеющую репутацию тяжеловесности.

В романе "Обломов"(http://www.powells.com/book/oblomov-9780300162288), например, главный персонаж книги первые сто страниц просто пытается встать с кровати.

Если вы откроете мой твит в браузере, то размер страницы будет 900 килобайт.

Это почти на 100 килобайт больше, чем полный текст Булгаковского Мастера и Маргариты(http://www.powells.com/book/master-margarita-9780679760801/2-4), смешного и загадочного романа о дъяволе, посетившем Москву со своей свитой (включая огромного кота) во времена репрессий 1937 года, где повествование перемежается с необычным взглядом на Понтия Пилата, Иисуса Христа и преданного, но ненадежного апостола Матвея.

И это только один твит.

Или посмотрим на статью из 400 слов на сайте Medium(https://medium.com/@delighted/bloat-6bccea185816), которая, в частности, говорит:
"Команды, не понимающие что они создают, зачем и почему, склонны создавать раздутые продукты".

Эта блестящая мысль у команды Medium весит 1,2 Мб.

Это длиннее "Преступления и Наказания"(http://www.powells.com/book/crime-punishment-9780099981909/66-0) Достоевского, романе о студенте, голова которого полна мыслями о Наполеоне, и который, разговаривая сам с собой, убивает в итоге старушку-процентщицу.

Гонимый чувством вины настолько, что он даже забыл забрать деньги, Раскольников оказывается преследуемым по пятам прокурором и ищет спасение в несчастной любви с благородной блудницей.

Достоевский написал роман от руки, при свечах, используя доисторические перо и чернила.

Вот недавняя статья, называющаяся "(Не очень) краткая история разрастания страниц"(http://www.yottaa.com/blog/application-optimization/a-brief-history-of-web-page-size)

Раскрывая стандартные причины того, почему "толстые" страницы нехороши, здесь мелькает мысль "тяжелые страницы замедляют загрузку, соответственно раздражают пользователей".

Это предложение может вам напомнить известное предисловие в романе "Анна Каренина"(http://www.powells.com/book/anna-karenina-9780143035008/13612133):

"Все счастливые семьи похожи друг на друга, каждая несчастливая семья несчастлива по-своему".

Но сама "(Не очень) краткая история разрастания страниц" намного больше "Анны Карениной".

В действительности, она больше чем роман "Война и мир"(http://www.powells.com/book/war-and-peace-9781400079988/1-0/5224192) Толстого, который задается в нем вопросом, способны ли индивидуальности влиять на исторические события, или же они являются просто щепками в неумолимом течении истории.

Возьмем статью из Йоркшир Ивнинг Пост, типичного местечкового новостного сайта. Она вообще не раскрывает взаимоотношения истории и личности:

"Руководство госпиталя извинилось за карри и бисквит на одной тарелке."(http://www.yorkshireeveningpost.co.uk/news/trending/confusion-cuisine-leeds-hospital-bosses-apologise-after-curry-and-crumble-served-on-the-same-plate-1-7512228)

Эта душераздирающая история о двух соприкоснувшихся на больничной тарелке блюдах вполне могла быть написана Марселем Прустом, для которого акт погружения пирога в чашку чая оказался отправной точкой расширяющейся спирали ярких воспоминаний, вылившихся в итоге в 9 томов и 3 мегабайта рукописной прозы о том, что время и память это всего лишь иллюзия.

Один только JavaScript в этой статье длиннее, чем "Воспоминания о прошлом" Марселя Пруста.

Я мог бы долго продолжать в том же духе. И я буду, ибо это весело!

Возьмем рекомендации по увеличению онлайн-производительности(http://webdesign.tutsplus.com/articles/best-practices-for-increasing-website-performance--webdesign-9109), которые весят 3,1 Мб.

Статья говорит, что Google повысил заинтересованность пользователей, уменьшив вес страницы со 100 до 80 килобайт.

Итак, Google Maps, сложнейшее веб-приложение наших дней, в 35 раз меньше, чем новостная статья.

Веб-ожирение может нанести удар в самых неожиданных местах.

Тим Кадлец(http://timkadlec.com/), к примеру, является прекрасным писателем на тему производительности. Его личный сайт является образцом минимализма. Он полон мудрости на тему экономии веса.

Но страница его слайдов(https://speakerdeck.com/tkadlec/reaching-everyone-fast-at-from-the-front-2015) с недавней беседы по поводу производительности весит 9 мегабайт, или же они доступны в 14-мегабайтном файле PDF.

Позвольте мне завершить статьей на TechTimes(http://www.techtimes.com/articles/60815/20150616/google-search-now-tags-slow-to-load-websites.htm), предупреждающей, что Google начинает помечать тяжелые страницы специальной меткой "slow" на их странице поиска для мобильных устройств.

Эта статья каким-то образом умудряется оказаться 18-мегабайтной, включая 3-мегабайтное видео об интимной смазке "K-Y jelly".

В наши дни требуется немало такой смазки для серфинга по нефильтрованному контенту Сети.

Что, черт возьми, происходит?



Ложные методы решения.



Все признают проблему. Эти страницы нелегки для ноутбука (вентилятор на моем поработал на славу в течении 3 недель, пока я готовил эту статью), и они ад для мобильных устройств. И авторы принимают меры.

В мае 2015 Facebook представил "Instant Articles"(https://instantarticles.fb.com/) - специальный формат для новостей, публикуемых на их сайте, которые загружаются почти мгновенно.

Facebook анонсировал это новшество на 6,8 мегабайтной странице с огромным фото какого-то чувака. Тот даже не работает на Facebook, он просто фоторедактор из National Geographic.

Ниже на странице вы найдете 41-мегабайтное видео, и это единственный способ узнать большее о проекте. В этом видео редактор повествует о таких восхитительных побочных эффектах нового формата, как поворотно-панорамное изображение, что значит, если вы не будете нормально держать устройство, то фотографии будут дергаться как в старых документальных фильмах.


Facebook также запустил internet.org(https://internet.org/) с целью расширить доступ к Интернет. Броская главная страница включает истории от людей из мира разработки, которые повествуют о том, что для них значит доступ к Интернет.

Вы уже знаете, что произойдет дальше. Когда я покину домашнюю страницу internet.org, почитав ее за обедом, я обнаружу, что Chrome получил свыше четверти гигабайта трафика.

Уверен, что вы скажете, что вертящийся глобус на фоновой картинке никак не может быть огромным видеофайлом?


Но я вам скажу - так оно и есть. Вы грузите это видео только для того, чтобы глобус вертелся.

И посыл Фейсбука к миру таков: "Интернет не быстр. Сиди и вертись."

И проблема медленного соединения - это не то, что касается только стран третьего мира! Я достаточно попутешествовал по Австралии, и в сельских районах, таких как Тасмания и Квинсленд, провайдеры смотрят на Wi-Fi как на столетний бренди.

Вы вполне можете купить его столько, сколько захотите, но он стоит состояние и потребляется мелкими порциями. Но после третьей или четвертой покупки, окружающие начинают забавляться над вами.

Даже в местах с приличным доступом к Интернет, как в Сиднее, все мы сталкивались с неустойчивым соединением, или же, на заканчивающейся батарее ждали загрузку чего-то огромного с сайта только для того, чтобы получить такой мизер информации, как например адрес ресторана.


Разработчики фигни, подобной этой странице Фейсбука, заслуживают хорошей взбучки.

Неплохо бы заставить их до конца жизни использовать эппловскую мышь в форме шайбы (https://en.wikipedia.org/wiki/Apple_USB_Mouse) (вопли ужаса из зала).


Соперником "Instant Articles" является проект "Accelerated Mobile Pages"(https://www.ampproject.org/) от Google. Это подвид HTML, разработанный для быстроты работы на мобильных устройствах.

Почему не использовать обычный HTML, не засоряя его всяким мусором? Вопрос остался открытым.

Этот проект с открытым кодом, и множество новостных сайтов используют его. Ввиду своей неограниченной любви к мобильному Вебу, Google создал под него отдельную инфраструктуру, в частности механизм отслеживания пользователей.


Джереми Кейт указал(https://twitter.com/adactio/status/654034801457016832) на то, что страница описания AMP технически безразмерна. Если ее открыть в Chrome, то последний будет бесконечно грузить одно и то же 3,4-мегабайтное карусельное видео.

Если же ее открыть в Safari, где карусель не работает, то загрузка страницы остановится после 4 мегабайт.

Такие несуразные страницы для проектов, призванных сделать Сеть тоньше, эквивалентны рекламе фитнес-клуба, где представляющий его человек просто стоит и жует пиццу, заедая ее печеньками.

Величайшие компании-разработчики даже не могут сделать легковесные текстовые сайты, описывающие их флагманские проекты, которые направлены на уменьшение размера страниц и призваны быть быстрыми на мобильных устройствах.

Как по мне, это полное признание поражения.


Ведущий разработчик проекта AMP любезно добавил(https://twitter.com/cramforce/status/654047333567492096) нас к себе в Twitter. Он признал наличие проблемы со страницей, пояснив, что Google "ограничен в ресурсах", и поэтому был вынужден отдать проект на аутсорсинг.

Это меня глубоко тронуло, потому что я никак не думал, что Google находится в трудном положении. Так что я потратил пару часов своего времени на создание статичной версии вебсайта AMP(http://idlewords.com/amp_static.html).


Я начал с замены карусели изображений на фото Уильяма Говарда Тафта, величайшего по габаритам президента США.

Думаю, это дало значительное улучшение бесполезной анимации на оригинальной странице.


Вырезав хлам, я добился уменьшения веса страницы до полумегабайта за полдня работы. Это в 8 раз меньше оригинала.

Я предложил свои изменения ребятам из Google задаром, но они очевидно были так ограничены в ресурсах, что даже не смогли найти время, чтобы скопировать мой код поверх своего.


Этот проект привел меня к предложению проводить "Тест Тафта":

Улучшается ли дизайн вашей страницы, когда вы заменяете каждое изображение фотографией Говарда Тафта(https://tafttest.com/)?

Если так и есть, то, возможно, все ваши картинки не несут смысловой нагрузки к вашей статье. Да и в конце концов, оставьте Тафта там! Вы сами только что признали, что так лучше!


Хочу поделиться с вами простым двухшаговым секретом по оптимизации сайтов.
1. Убедитесь, что наиболее важные элементы страницы загружаются и рендерятся первыми.
2. Остановитесь.

Не надо больше никакого мусора. Будьте мужественны в своем минимализме.


В принципе, я бы мог переписать упомянутые мною в этой статье сайты, и заставить их грузиться за секунду. Потратив пару часов.

Вы можете это сделать? Можете?

Конечно да! Это не трудно! Мы знали как создавать маленькие сайты в 2002-м. Это не та тайна, которая потерялась в истории, как греческий огонь или дамасская сталь.

Но нас буквально заставляют делать сайты "толстыми".

Бьюсь об заклад, если вы придете к клиенту и покажете ему шаблон сайта, весящий 200 килобайт, вас уволят. Даже если он великолепно выглядит и каким-то образом содержит счетчики, рекламу и прочий мусор от соцсетей, на котором они настояли. Это просто немыслимо далеко от нынешних представлений о Сети.


Если вы когда-нибудь боролись с лишним весом, то в курсе, на какие ухищрения идут люди, чтобы убедить себя в том, что они худее, чем есть на самом деле. Вы втягиваете живот, одеваете обтягивающую одежду, становитесь на весах на определенную точку.

Аналогичная ситуация с тестированием производительности. Люди изобрели смышленые метрики, чтобы убедить себя в том, что их тормозные сайты грузятся быстро.

Одним из таких инструментов является SpeedIndex(https://sites.google.com/a/webpagetest.org/docs/using-webpagetest/metrics/speed-index) от Google. (Вы знаете, что это от Google, так как они случайно добавили знак интеграла в формулу).

SpeedIndex основывается на той идее, что самое главное определить, как быстро рендерится видимая часть вебсайта. И неважно, что происходит с остальным содержимым. Не имеет значения загрузка сети, перегрев телефона. Плевать на разряженность батареи. Все отлично, если на экране появляется та часть сайта, которая находится во вьюпорте.

Конечно неважно как быстро сайт загружается, если первое, что делает полностью загруженная страница - обслуживает промежуточную рекламу. Или же, если как многие пользователи телефонов и планшетов, вы немедленно начинаете скроллить вниз, ловя "неоптимизированную" часть сайта со спущенными штанами.

Есть только один честный метод определения скорости загрузки: время от нажатия на ссылку до того момента, как вы закончили пропуск последнего рекламного баннера.

Все остальное фигня.


В разговорах со сторонниками измерения веб-производительности я иногда чувствую себя хиппи, разговаривающим с владельцем внедорожника об экономии топлива.

У них куча способов изменить пробег машины. Спустить переднее левое колесо. Прицепить магнит на крышку бензобака. Сложить боковые зеркала.

Большинство разговоров о производительности - технического характера, и включают такие темы, как сжатие, асинхронная загрузка, последовательные ассеты, пакетные HTTP запросы, минификация.


Все это загораживает от нас более простое решение.

Если вам надо просто доехать до углового магазина, езжайте на велосипеде.

Если вам надо просто вывести на экран 5 предложений обычного текста, используйте ванильный HTML. Да к черту, отобразите текстовый файл! Тогда вам не будут нужны заморочки со сжатием, знаками интеграла или построение диаграмм Ганта для выяснения, в какой же последовательности надо грузить ассеты.

Браузеры чертовски хороши в рендеринге ванильного HTML.

У нас есть эта технология.


Диетологи хороши в этом в плане построения пищевой пирамиды. Я думаю нам нужна подобная для Сети, чтобы она напоминала нам, как должен выглядеть здоровый сайт.

Вот мои рекомендации для сбалансированного сайта на 2015 год:

    Читабельный текст, отформатированный здравым количеством разметки.

    Умеренное количество изображений, иллюстрирующих и подчеркивающих визуальный дизайн.

    Порция CSS.

    И затем, очень экономно, и если он реально нужен, JavaScript.


Вместо этого, вот пирамида, которую мы сейчас наблюдаем:

    HTML как основание.

    Огромная куча дерьма.

    И безумная каша из поддерживающих скриптов.



Толстая реклама



Разработчики! Это не толька ваша ошибка.

Вы выкладываетесь на 100%, создавая прекрасный сайт, радующий производительностью. При проектировании, вы пытаетесь предугадать нужды пользователя и устилаете его путь лепестками роз.

Затем, после завершения работ, клиент "одаривает" вас добавлением скриптов слежения и рекламы, контроль над которыми вне вашей власти, чей источник и содержимое будет определяться в момент открытия страницы пользователем, и это ломает дизайн и отвлекает пользователя от истинной цели посещения сайта.

UX вашего сайта подавлен враждебными элеменами, властью над которыми вы не обладаете.


Вот скриншот(http://www.npr.org/sections/alltechconsidered/2015/07/20/424630545/with-ad-blocking-use-on-the-rise-what-happens-to-online-publishers) статьи с NPR, где обсуждается распространение блокировщиков рекламы. В штатном браузере эта страница весит 12 Мб.

Эта же страница с включенным блокировщиком худеет до 1 Мб. Хоть это не образец для подражания, но мы видим огромную разницу.

Если посмотреть, что притащила стоковая версия браузера, то мы увидим не только видео и баннеры, а еще и javascript. Трекеры, кнопки социальных сетей - все это связано с набором скриптов, которые в свою очередь тянут информацию с других серверов. Каждый запрос идет с куками.

Дополнительные куки - это последнее, в чем нуждается и так перегруженный сайт.

Эти скрипты обслуживаются бог знает где, и отлично подходят для вредоносного ПО.

Рекламщики будут говорить вам, что так и должно быть, но имея с ними дело, вы должны помнить, что они профессиональные лжецы.

И я не пытаюсь их здесь оскорбить. Я просто описываю их работу. Работа рекламщика - уговорить вас сделать то, что вы никогда бы не сделали. Их задача убедить программиста в том, что единственный способ показать рекламу - это включить кучу сторонних скриптов и слежение за пользователем.

Раздутый сайт, падение быстродействия и проблемы с безопасностью, говорят они, это та цена, которую читатели платят за бесплатный контент.


Я натолкнулся на понравившиеся мне диаграммы "рекламной экосистемы". Крайне сложно объяснить их в цифрах.

Вот схема экосистемы рекламщиков за 2011 год, где насчитывается сотня компаний.


А вот мы видим 350 таких компаний в 2012-м.


В 2014 их уже 947.


Количество доходит до 1876 в 2015-м. И все они соревнуются за один и тот же лакомый кусочек вашего онлайн-времяпрепровождения.

Эта бурно развивающаяся индустрия довольно сложна, и я полагаю что это сделано намеренно.

Когда вы пытаетесь понять сложную систему, бывает полезно взглянуть на нее издалека и определить ее основные принципы работы.


К примеру, возьмем немецкую диаграмму энергетического баланса на Земле.

Мы видим кучу непростых процессов, происходящих с солнечным излучением, но мы можем не заострять на них в нимание, а просто измерить общее количество энергии на входе и выходе.

Тем же манером, давайте я набросаю, как деньги приходят в этот рекламный пузырь.


В начале, у вас есть потребитель. Я представлю его в виде близкого мне существа - кенгуру.

Потребители платят продавцам за товары и услуги. Красной стрелкой изображено движение денег (или же, как говорят в Австралии, долларов) к продавцу.


Часть этого потока направлена на оплату рекламы. Представляйте это как небольшой налог на все, что вы приобретаете.


Эти деньги болтаются у рекламщиков в Сети до тех пор, пока не осядут в итоге в чьем-то кармане.

В настоящее время их конечной точкой являются карманы таких компаний, как Facebook, Yahoo! и Google.


Как вы видите, из системы выводится денег больше, чем в нее поступило.

Существует предел денежных средств, которые рекламные компании могут получить от покупателей. Подумайте о соотношении количества рекламы, которую вы видите каждый день, к покупкам, которые вы совершаете.

Так поблагодарим Бога за инвесторов! Они и восполняют эту разницу, надеясь вытянуть счастливый билет на тех компаниях, которые окажутся в выигрыше.


Инвесторы, тем не менее, стремятся попасть в правую часть этой диаграммы. И они хотят вернуть денег больше, чем вложили.


Когда это происходит, а я надеюсь, что это происходит прямо сейчас, что-то должно произойти.

Либо мы начинаем больше покупать, или же намного большая часть от наших покупок идет на оплату рекламы...

Или пузырь начинает лопаться.


При звуке взрывающегося пузыря, многие рекламные стартапы будут в отчаянии. И они начнут искать новые пути, которые выгодно выделят их от остальной группы.

Мы увидим волну объединений, слияний, агрессивного отслеживания пользователей и полное разрушение того, что мы называем приватностью в Интернет.

Это та причина, по которой я предложил(http://idlewords.com/talks/what_happens_next_will_amaze_you.htm#six_fixes) регулировать их деятельность прямо сейчас.

Я полагаю, что нам необходимо ликвидировать трекинг и таргетинг от третьей стороны.

Реклама снова могла бы стать примитивной, и появлялась бы только с тех сайтов, которые мы посещаем.


По принятой сегодня практике, пространство для рекламы выбирается при загрузке страницы. Саму рекламу (как и весь сопутствующий ей javascript), браузер получает уже после того, как отобразилось все содержимое страницы.

В терминах UX, это подобно торговцу, появившемуся на уже начатой вечеринке. При этом он требует выключить музыку и раскладывает свой пластиковый столик с товарами, распугивая гостей. Все, вечеринка закончена.


Представьте, что может значит для разработчика реклама, которая показывается с его же сайта. Он будет знать, как будет выглядеть его страница, сможет грузить ассеты в нужном ему порядке, избежать сторонних небезопасных скриптов.

Гигантские картинки больше не заслоняли бы экран при загрузке страницы, руша разметку сайта и заставляя пользователей ненавидеть вас.


Предлагаю пойти еще дальше в наших размышлениях. Я вообще не уверен, что онлайн-публикации нуждаются в рекламной поддержке.

Люди не замечают микроплатежей, игнорируя сам факт того, что сама система микроплатежей уже выстроена и отлично работает.

Этот график, опубликованный в New York Times, показывает, сколько вы платите за посещение страницы по мобильному интернету, в зависимости от пропускной способности канала. К примеру, на типичном тарифном плане вы платите 30 центов за загрузку страницы Boston.com.

Это нечто большее, чем микроплатеж провайдеру. И я уверен, что это больше, чем та сумма, которую Boston.com видит как доход от рекламы на странице.

Мы в той глупой ситуации, когда реклама приносит деньги провайдерам, в ущерб всем остальным.


Рекламщики будут в ярости от любой попытки вернуться к рекламе примитивного образца. Но нет никаких свидетельств тому, что примитивная реклама чем-то хуже продвинутой.

Слабо таргетированная реклама годами приносила достаточно денег, чтобы финансировать целые телестудии, радиошоу и разного рода популярные развлечения.

Гораздо дешевле платить паре журналистов-фрилансеров и разработчику, чем снять телесериал. Так почему невозможно вернуть назад ту успешную модель рекламы, которая не разрушает приватность?


Конечно, рекламщики скажут - насколько бы лучше были раньше телевизоры, если бы в каждый из них была встроена видеокамера?

Но хватит уже этого с нас.


Возврат к простой рекламе принесет им меньше дохода, так как много средств привлекается на многообещающие возможности слежения за пользователями.

Но рекламный рынок придет к падению в любом случае после того, как взорвется текущий пузырь.

Вопрос только в том, рискнут ли пойти на это издатели, сняв сливки, или же пойдут ко дну вместе с остальными.



Толстое содержимое.



Давайте поговорим еще об одной причине ожирения.

Толстое содержимое!

Эта проблема была всегда. Но с тех пор, как сеть стала быстрой, а верстка сложной, стало очень легко случайно выложить огромный файл на сайте.


Примеры!

Вот вам самодовольный блогер(http://idlewords.com/2014/08/green_arabia.htm), критикующий других за раздувание сайтов. И мы видим в последнем его посте 3-мегабайтную картинку.

Предположительно, причиной тому стала простая забывчивость - он просто забыл сжать картинку. Если не пользуешься медленным интернетом, то довольно трудно обнаружить такую ошибку.

Развитие скоростного интернета делает эту проблему еще хуже.


Вот одна из недавних фотографий китайских пробок. На дороге 50 рядов автомобилей. Добавив еще одну полосу движения на эту дорогу, мы никак не повлияем на ситуацию.

Проводя аналогии с Интернет, можно сказать, что увеличивая пропускную способность канала, мы не убедим пользователей постить меньше контента.


Рассмотрим эту(http://motherboard.vice.com/read/i-built-a-botnet-that-could-destroy-spotify-with-fake-listens) статью о сетевых ботах.

На странице мы видим не относящуюся к теме 3-мегабайтную фотографию наушников. Эта страница проваливает Тест Тафта.

Это часть скорбного тренда "главной фотографии", причиной которого высокая скорость сети, и цель которого заставить пользователя просто посмотреть, что же находится под ней.

Здесь нет смысла упрекать автора. Что-то на сайте позволило загрузить файл такого размера.

Но большей проблемой является то, что из-за скорости сети люди позволяют себе такого рода картинки.


Пока мы полагаемся на сжатие, минимизацию, кэширование и конфигурацию сервера, ошибки все труднее отловить и они все более ресурсоемки.

Еще один пример, интересный по двум причинам.

Во-первых, качество оригинального фото ужасное. Ощущение, что фотографировали на тапок, так как снято с экрана телевизора.


Тем не менее, его размер немалый. При загрузке в Safari, размер изображения - несколько мегабайт.

Если же грузить страницу в Chrome, то мы получим всего 100 килобайт из-за механизма онлайн-сжатия, который Safari не поддерживает.

Учитывая эти непростые методики оптимизации, трудно быть уверенным, что мы видим то же самое, что и пользователи нашего сайта.


В качестве бонуса, в конце странички мы видим анимированный GIF размером более 1 Мб.

Это обычная, бесполезная в общем приманка для любителей покликать, но она занимает значительную часть в общем весе страницы.


Но рекордсмен по размеру содержимого - Apple. Их сайт раздут просто неимоверно. И я полагаю, что это маркетинговый ход.

"Эти картинки грузятся ужасно медленно на моем стареньком Android, я просто не дождусь, когда куплю новый девайс от Apple!".

Давайте посмотрим на страничку Apple, которая рассказывает об iOS на iPad Pro(http://www.apple.com/ipad-pro/ios9/).


Как вы думаете, какого она размера?

Поверите ли вы, что она весит весит больше, чем вся память первого iMac (32 Мб)?


Также вы можете заполнить ей память основного компьютера космического корабля Спейс-Шаттл. Да и не одного, а всей флотилии.

И у вас останется для разогнанного Macintosh SE... (5MB).

...и собрания произведений Шекспира... (5 Мб)

Много что еще можно заполнить. Размер страницы - 51 Мб.



Лживый минимализм



Эти странички Apple иллюстрируют то, что я называю Лживым Минимализмом. Это преобладающий дизайн в сегодняшней Сети.

Я запостил свое мнение об этом на Medium. Это длинная беседа, поэтому прошу прощения за то, что приведу ее здесь полностью:

"Лживый Минимализм: иллюзия простоты, поддерживаемая мегабайтами хлама".


Я уже говорил о раздутых статьях на Medium. Вот эта моя мысль с легкостью превышает размер в 1 Мб.

И дело не в (бесполезном) javascript. Внизу страницы мы видим большое изображение.

Моя статья коротка настолько, что картинку не увидишь, проскроллив вниз. Но используя инструменты разработчика я могу выяснить что это: на ней некие люди в скафандрах, с планшетами и мобильниками.

Она весит 900 Кб.


Вот еще пример такого минимализма - Google contributor(https://contributor.google.com/u/0/#/intro).

Эта пустынная страничка, 2 МБ размером, вынуждает вас кликнуть 3 раза, чтобы прочитать 3 предложения.

В последнем говорится, что эта программа у нас, в Австралии, недоступна.


Вот домашняя страница пивоваренной компании Tatamagouche(http://tatabrew.com/). Весь экран занимает изображение бокала с пивом. Вся навигация упрятана за маленький значок "гамбургера" в углу экрана.

Помещение контента внутрь гамбургера - это не тот способ, который спасет бледного вида интерфейс.


Дизайнерским компаниям нравится этот антипаттерн невидимого гамбургера.

Вот 3-мегабайтная главная страница компании POLLEN(http://pollenlondon.com/). Гамбургер едва заметен.


В качестве последнего примера такой эстетики, посмотрим на обзор часов от Apple от Verge(http://www.theverge.com/a/apple-watch-review).

Но если вы не хотите просадить свою сеть Wi-Fi, то не следует посещать этот сайт с мобильника.

Этот обзор является мерзким примером UI - он забирает управление механизмом скроллинга в вашем браузере. Пытаясь прокрутить страницу вниз, вы видите странные вещи.

Элементы интерфейса появляются слева.

Элементы интерфейса появляются справа.

Давно забытые элементы интерфейса внезапно посещают вас посреди ночи.

После необъяснимых пауз, страничка наконец прокручивается.

Примечательной в этот момент является напряженная борьба вентилятора за жизнь вашего ноутбука.

Я пытался записать видео о том, как я скроллировал эту страницу, но потерпел неудачу. Видеокарта моего нового макбука просто не справилась с задачей.



Неуклюжий интерфейс



К нам возвратились некоторые дизайнеры, пораженные мозговым паразитом. Проблема в том, что они не излечились. И все сейчас должно выглядеть так, как на сенсорном экране.

Вот версия Wired для Великобритании(http://www.wired.co.uk/), как пример сайта, объявившего войну скроллу.

Вы можете скроллить вниз, но он будет упорно перемещать вас вместо этого вправо. Заголовки статей выглядят как огромные, пожирающие место блоки.


Другой отличительной чертой дизайна под iPad является эта элегантная инфографика нечитаемым тощим белым шрифтом на светлом фоне.


Закажите авиабилет на сайте Virgin America, и вы увидите эти гигантские кнопки на красном фоне, занимающем весь экран.

Этот дизайн может неплохо выглядеть на телефоне, но на большом экране он ужасен.


Кнопка "Book" приводит вас в мир несоразмерно огромных полей ввода.

Обратите внимание на примечательную экосистему огромных, мелких и слишком бледных шрифтов


После того как вы выбрали место назначения, сайт отправляет вас на этот календарь.

У него несоразмерно большие кнопки. Но самое интересное для меня, цена на конкретное число - отображена микроскопическим шрифтом под датой.

Мне не нравится в этом случае потеря информационной насыщенности. Я взрослый человек, сижу за большим экраном, с мышкой и клавиатурой. Я заслуживаю лучшего.

Не каждый интерфейс следует создавать для человека, который серфит, сидя в туалете.


Вот как раньше выглядел сайт PayPal

Я никогда не бросался на колени, благодаря Бога за то, что он позволил мне видеть эту красоту.

Но он сделал свою работу.


Вот как PayPal выглядит сейчас.

Наибольший элемент страницы теперь отчитывает меня за то, что я не рассказал PayPal о том, как я выгляжу.Затем идет бесполезное предложение скачать их приложение, а потом предложение по операциям с кредиткой.

Теперь я не могу отсортировывать столбцы, нет фильтров и существенно сократилось количество информации, доступное мне ранее без скроллинга.


Вот панель управления рекламой от Google. Для такого небольшого количества настроек она сильно раздута визуально.

Это все равно, что проснуться в 2008-м и обнаружить, что все маленькие детальки Lego увеличились до Lego Duplo. Сайты, отображавшие полезную информацию, теперь выглядят как мультфильмы.

Элементы интерфейса стали большие и грубые. Любое сложное меню теперь упрятывается в какой-нибудь подгамбургер.

Сайты угождают пользователям с тачскринами в ущерб всем остальным.


Еще один пример - домашняя страница Docker. Мы видим невыразительный текст, отделенный друг от друга полями пустоты.

Мне не нужны ездовые собаки и корм для них, чтобы перемещаться по такой странице.


Боль становится сильнее, если посмотреть страницы поиска. Огромные буквы и такие же кнопки заменяют все, что необходимо пользователю - увидеть результаты поиска.

Вот результат поиска на большом экране с высоким разрешением, состоящий из одной записи.


Ненавижу это делать, но я должен пригласить в студию специалистов по адаптивному дизайну.

В этой ситуации очевидно, что этому сайту необходимо хорошо выглядеть во всех разрешениях.

Разработчики забывают о важном различии при работе с сенсорным экраном и обычным.

На телефоне у людей в наличии маленький экран и толстые стилусы в виде пальцев. В этом случае, такой дизайн имеет смысл.

На большом же экране, с гектарами пространства и прецизионным устройством в виде мышки, такой интерфейс безумен.

Хотя, может быть эти различия и бессмыслены. У меня ощущение, что дизайнеры просто ждут, когда мы все пересядем на телефоны.

Вот типичный сайт рецептов с такой проблемой UI. Не хочу на нем ничего заказывать, ибо это непросто.

Обратите внимание, что некоторые элементы мелкие, а некоторые огромные. Полстраницы намекает на идею использования сенсорного экрана, а на другой тяжело читать надписи.


Вот домашняя страница сайта Forbes, как следует из раскрытого меню гамбургера. Она выглядит как, будто видеокарта отрендерила случайный кусок памяти.

Мы видим кнопки соцсетей, стрелки в разные стороны и целый шведский стол шрифтов.

И на самом верху всего этого уверенно разместился баннер, с собственными идеями о типографии и своем месте на экране.

Так нельзя жить. Мы не животные!



Тяжелые облака



Наконец, я хочу поговорить о бэкенде.

Как можно ожидать легкого веб-интерфейса, когда у нас такая разруха на стороне сервера?


У меня есть знакомая, которая зарабатывает, выпекая печенье. Как и многие из таких людей, она начала печь на своей кухне, используя ее на всю катушку, пока вся квартира не покрылась слоем муки и там стало жарко, как в тропиках.

В какой-то момент она поняла, что ей нужно промышленное оборудование для выпечки.


Но умение хорошо готовить печенье никак не помогает в выборе профессионального ресторанного оборудования.

Страшно подумать, что для готовки дома вам предстоит приобрести промышленную печь, стойки для охлаждения выпечки, индустриальный миксер и начать покупать ингредиенты в 20-килограммовых упаковках.

Это даже страшнее чем нанять персонал, арендовать кухню и получить разрешение санитарной службы. Одна ошибка может похоронить ваш бизнес.


Сеть годами работала именно таким образом. У вас мог быть небольшой сайт, но как только он начинает разрастаться, вы ловите себя говорящим по телефону с ушлым продавцом железа о подписывании контракта на оборудование, пропускную способность и место размещения.

Было легко сделать дорогостоящую ошибку.


Все изменили Amazon Web Services. Они предложили профессиональное, гибкое, масштабируемое решение. Отпала необходимость в покупке и обслуживании оборудования. Вы конечно платите за услуги, но это избавляет от множества рисков.

Конечно, вам было необходимо научиться использовать все это. Но это было действительно интересно.


Тем не менее, подводные камни все же оставались. Горелки в печах могли быть мелковаты, а стойки с выпекаемыми пирогами могли внезапно рухнуть.

К чести Amazon, они сразу об этом предупреждали и рекомендовали настраивать ваши процессы с учетом таких неожиданностей.

Некоторые вещи были объявлены гарантированно рабочими - к примеру, температура в морозильниках никогда не будет выше положенной. Но резонно заметить, что в здравом уме вы никогда не оставите дверцу морозилки открытой.

Переход на облачную архитектуру заставляет людей размышлять о масштабируемости. Приходится думать в рамках распределенных серверов, зон доступности, что подразумевает размышления над избыточными мощностями и терпимостью к сбоям.

Все это хорошо в больших масштабах, но явный перебор для кучи маленьких сайтов. Вам не нужен персонал целого ресторана для того, чтобы пожарить яичницу.


Система разрасталась, и Amazon стал предлагать бОльшую автоматизацию. Они могли дать вам в аренду не только огромные печи, но и шеренги кухонных роботов, которые вы можете запрограммировать на выполнение рутинных задач.

И опять же, гораздо интереснее программировать роботов, чем самому выполнять такие задачи.


Для многих компаний, для которых найти хорошего программиста труднее, чем найти деньги, имело смысл полностью положиться на облачные сервисы.

Для программистов, облака дают возможность строить распределенные системы из десятков и сотен серверов ранее, чем они могли бы это сделать самостоятельно. Это все равно, что получить ключи от Боинг-747 сразу после летной школы.


Большинство работ над вебсайтом достаточно однообразны. Вы цепляете базу данных к шаблону и контролируете, чтобы никто не выдернул вилку из розетки.

Но автоматизация при масштабировании? Приятно звучит, и это непросто!


Это все равно, что собрать кучу бухгалтеров из мелких контор и сказать им, что им предстоит создать многомиллиардные корпоративные оффшоры на Сейшелах.

И внезапно они оживут, они почувствуют себя свободными. Они взлетят на вершину пирамиды Маслоу и не захотят сползать вниз.


Это все равно, что почувствовать себя программистом, потерявшимся в облаках.

Сложность - это своего рода приманка для умных людей. Мы не можем этому сопротивляться, даже зная, что это не кончится ничем хорошим. С этим бывает так приятно работать.

В итоге мы получаем ужасную нагроможденность в Сети.

Технологии масштабирования, разработанные нуждающимися в них компаниями, оказываются в руках тех, кто стремится работать в стиле масштабирования.

И нет никого, чтобы сказать "нет".


Вот пост об анализе 2 миллионов шахматных партий(http://aadrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html), написанный Адамом Дрейком. Вместо использования кластера Hadoop, он связал воедино на ноутбуке несколько Unix утилит и получил 235-кратный выигрыш в производительности.

Нельзя сказать, что использующие Hadoop люди глупы, или же все можно сделать на ноутбуке. Речь о том, что много людей уверены в огромных преимуществах распределенной системы перед железом образца 2015 года.

Вы можете сделать невероятно много на ноутбуке или небольшом сервере, если уберете 50 слоев нагроможденного мусора.


Давайте я приведу конкретный пример. Мой конкурент, назовем его ACME Bookmarking Co., недавно сказал, что хочет выйти из бизнеса и продать сайт.

Несмотря на то, что у ACME траффик намного больше моего, я узнал, что у них только половина ежедневных активных пользователей. Это вселяло надежду, так как при масштабирования сайта букмаркинга, надо учитывать только пользователей, сохраняющих данные.

У нас одинаковое количество сотрудников. Они держат стажера на полдня для работы над проектом, пока я занимаюсь своим и езжу по миру с переговорами. Получается, полработника на полную ставку на каждого из нас.

У нас одинаковый доход от пользователя в среднем. Мой валовой доход $12,000 в месяц, а у них $5,000.

Но где проекты различаются радикально - так это в затратах. ACME хостится на AWS, и было дело, что они платили $23,000 (!!!) в месяц. Путем титанических усилий, им удалось скостить сумму до $9.000.

Я плачу немного больше $1000 в месяц за хостинг, используя собственное оборудование. Это включает амортизацию железа и газировку из офисного автомата.

Таким образом, у меня букмаркинг прибылен, а у них $4000 убытка в месяц. Я живу на той же прибыли, что и они, но тем не менее они вынуждены выйти из бизнеса ввиду его убыточности.

Дело в том, что ваши предположения о сложности фиксируют ваши ожидания и ограничивают вас в том, что вы хотели бы попробовать. Если вы думаете, что "настоящий" сайт должен жить в облаке и быть развернутым на дюжине машин, то целый ряд вполне жизнеспособных проектов окажется невыгодным.

Подобно этому, если вы считаете, что вам необходима многослойная CMS и навороченный javascript для новостного онлайн-проекта, то очень многие вещи вам окажется реализовать не по карману.

Вместо того, чтобы заставить ваши навороченные проекты выглядеть попроще, спросите себя - а можно ли их самих упростить?


Я не придираюсь к облакам. Среди моих друзей есть те, кто использует эту технологию.

Скорее, я бы хотел напомнить, что у нас достаточно места под облаками. Сегодняшние разработчики работают на вершине, состоящей из такого множества слоев, что даже не обращают внимание на то, насколько могущественна их технология. Это обратная "проблема принцессы на горошине".

Что происходит в браузере?  Базовая технология настолько быстра, что мы можем навалить сверху кучу хлама, и все будет продолжать работать достаточно быстро.

Один из способов сделать блестящий сайт - это иметь смелость дать браузеру делать то, для чего он оптимизирован. Не думайте, что все эти фреймворки и подобные инструменты сэкономят вам деньги и время.

К несчастью, сложность стала в некоторой степени предметом "гордости". Люди хвастаются друг перед другом своим "стеком" и обмениваются знаниями о том, как им управлять.

"Стек" - это эквивалент термина "полифил", только в отношении бэкенда.В обоих случаях это означает то, что вы резко усложняете свою программу.



Подводя итоги



Также есть причина побеспокоиться о происходящем вне рамок эстетики и эффективности.

Я буду использовать аналогию в виде компьютерной игры, чтобы выразить два видения будущего Сети.

Первое - Сеть в виде игры Minecraft - открытый мир из несложных вещей, подчиняющийся простым правилам. Графика неважная, но не в этом суть, это не главное.

Здесь вы выступаете в роли активного участника, создателя, и увлекательно проводите время, кооперируясь с другими пользователями.

Правила игры простые и предоставляют свободу действий.


Люди создают в Minecraft удивительные вещи.

Вот целый город, любовно созданный и полный небоскребов.


Некоторые местные сумасшедшие построили работающий процессор из кирпичей. Если его увеличить, то на нем можно запустить сам Minecraft, и это мозговзрывающая мысль.

Игру легко освоить и вам не нужно приобретать для нее новый компьютер.


Второе видение, это Call of Duty - прекрасно сделанная игра, имеющая претензию на коллективный геймплей (хотя на самом деле это не так) с потрясающими эффектами и возможностью множества покупок.

Создание такого рода игры требует огромной команды специалистов. Никто не способен понять всю такую программу целиком, но в общем никто этого и не ожидает. Даже если кто-то один сможет овладеть всей технологией разработки, ее стоимость будет запредельной.

Поведение пользователя здесь в общем линейного характера, с иллюзией самостоятельности и в рамках довольно жестких ограничений. Существует очевидный для игрока путь следования, а также препятствия, которые держат его на этом пути. В качестве бонуса, в игре присутствует вся текущая политическая обстановка. Единственный способ вырваться из этих рамок - не играть в игру вообще.

Несмотря на дорогостоящую разработку, антураж довольно однообразен. Вы постоянно находитесь все в той же серого цвета зоне боевых действий.

Обладая большим опытом и затратив немало усилий, вам может удасться внести некоторые небольшие изменения в игровой мир. Но большинство игроков заканчивают игру в обстановке, которая была изначально. Итого мы видим пассивное развлечение со случайными потасовками, где будет важна ваша скорость нажимания на клавиши.


Занимаясь усложнением создания сайта, усложнением редактирования веб-страницы или чтения исходников для понимания кода, мы способствуем усилению потребительского взгляда на Сеть.

Можно накликать беду, если представить, что кому-то нужна команда профессионалов просто для того, чтобы запостить новость в онлайн. Усложнение Сети сверх меры - это как поднять лестницу, которая ранее использовалась обычными людьми в целях обучения, которые удивляли окружающих новыми идеями.


Я подведу итоги:

Давайте сохраним Сеть в качестве гипертекстовой среды, единственной среды этого рода в мире, а не будем превращать ее в очередную среду потребления, примеры которых у нас перед глазами.

Давайте остановимся на идее, что когда компьютеры становятся мощнее, а скорость каналов выше, то и Сеть должна также становиться быстрее.

Давайте не будем поддаваться панике динозавров онлайн-издательств, которые затопчут нас, убегая от метеора. Вместо этого, мы вернемся в свои норы и будем наблюдать, как природа сама идет по пути прекрасного.

Самое главное, давайте разрушим бэкенд, работающий на онлайн-слежение, который угрожает не только нашему карману, но и вообще свободе. Не только здесь, в Австралии, но и в Америке, Европе, Англии - в каждой стране, где идеи тотальной слежки воспринимались всего десять лет назад как научная фантастика.


Путь, который не даст огромным компаниям сделать Интернет стерильным - это сделать их сайты иррелевантными. Если мы начнем следовать этой парадигме повсеместно, люди последуют за нами. Мы сделали это с AOL и Prodigy, и мы можем сделать это снова.

Для того, чтобы это произошло, Сеть должна остаться коллективной. Это подразумевает не просто создание маленьких сайтов для того, чтобы их мог посещать каждый. Это значит, что сайты к примеру должны быть маленькие настолько, что другие люди могли бы учиться их созданию.

Я не переживаю по поводу ожирения в плане его неэффективности. Я переживаю из-за этого потому, что это делает Сеть недоступной.

Сохранение простоты в Сети делает ее привлекательной.

Благодарю вас всех!

ДЛИТЕЛЬНАЯ, НЕСКОНЧАЕМАЯ БУРЯ ОВАЦИЙ
